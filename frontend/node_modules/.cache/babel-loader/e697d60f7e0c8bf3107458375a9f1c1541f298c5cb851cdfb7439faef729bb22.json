{"ast":null,"code":"import _slicedToArray from\"C:/Users/ashwin/Documents/GitHub/HackSMU/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./NoteModal.css';import postData from'../ApiAccess';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NoteModal(_ref){var closeModal=_ref.closeModal,addNote=_ref.addNote;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),uploadedFileName=_useState6[0],setUploadedFileName=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),wordCount=_useState8[0],setWordCount=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),combined=_useState12[0],setCombined=_useState12[1];var handleNameChange=function handleNameChange(e){var inputName=e.target.value;setName(inputName);};var handleTextChange=function handleTextChange(e){var inputText=e.target.value;setText(inputText);var words=inputText.split(/\\s+/).filter(function(word){return word!=='';});setWordCount(words.length);};var handleFileUpload=function handleFileUpload(e){var files=e.target.files;if(files&&files.length>0){var file=files[0];if(file.type==='text/plain'){var reader=new FileReader();reader.onload=function(event){var fileText=event.target.result;setText(fileText);var words=fileText.split(/\\s+/).filter(function(word){return word!=='';});setWordCount(words.length);setErrorMessage('');setUploadedFileName(file.name);// Set the uploaded file name\n};reader.readAsText(file);}else{setErrorMessage('Please upload a .txt file.');}}};var handleSubmit=function handleSubmit(){// Check if either name or text is empty\nif(!name||!text){setErrorMessage('Please fill in both name and text fields.');}else if(wordCount>750){// Check if word count exceeds the limit\nsetErrorMessage('Word count exceeds the limit (750 words).');}else{// Create a new note object\nvar newNote={name:name,text:text,wordCount:wordCount};// Call the addNote function to add the new note to the array\naddNote(newNote);console.log(window.location.href.split('3000/')[1]);postData(name,window.location.href.split('3000/')[1],text);// Clear the input fields and word count\nsetName('');setText('');setWordCount(0);setErrorMessage('');// Close the modal\ncloseModal();}};var handleDownload=function handleDownload(){var blob=new Blob([text],{type:'text/plain'});var url=window.URL.createObjectURL(blob);var a=document.createElement('a');a.href=url;a.download=uploadedFileName||'uploaded_text.txt';a.click();window.URL.revokeObjectURL(url);};return/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"close-button\",onClick:closeModal,children:\"X\"}),/*#__PURE__*/_jsx(\"div\",{className:\"name-input\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Your Name\",value:name,onChange:handleNameChange})}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",className:\"upload-button\",children:\"Upload File\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".txt\",id:\"file-input\",onChange:handleFileUpload,className:\"file-input\"}),uploadedFileName&&/*#__PURE__*/_jsx(\"span\",{className:\"uploaded-file-name\",children:uploadedFileName})]}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",cols:\"50\",placeholder:\"Enter text...\",onChange:handleTextChange,value:text,className:\"text-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"word-count-and-button\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"word-count\",children:[wordCount,\"/750 words\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",onClick:handleSubmit,children:\"Submit\"})]}),text&&/*#__PURE__*/_jsx(\"button\",{className:\"download-button\",type:\"button\",onClick:handleDownload,children:\"Download File\"}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage})]})});}export default NoteModal;","map":{"version":3,"names":["React","useState","postData","jsx","_jsx","jsxs","_jsxs","NoteModal","_ref","closeModal","addNote","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","text","setText","_useState5","_useState6","uploadedFileName","setUploadedFileName","_useState7","_useState8","wordCount","setWordCount","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","combined","setCombined","handleNameChange","e","inputName","target","value","handleTextChange","inputText","words","split","filter","word","length","handleFileUpload","files","file","type","reader","FileReader","onload","event","fileText","result","readAsText","handleSubmit","newNote","console","log","window","location","href","handleDownload","blob","Blob","url","URL","createObjectURL","a","document","createElement","download","click","revokeObjectURL","className","children","onClick","placeholder","onChange","htmlFor","accept","id","rows","cols"],"sources":["C:/Users/ashwin/Documents/GitHub/HackSMU/frontend/src/components/NoteModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './NoteModal.css';\r\nimport postData from '../ApiAccess';\r\n\r\nfunction NoteModal({ closeModal, addNote }) {\r\n  const [name, setName] = useState('');\r\n  const [text, setText] = useState('');\r\n  const [uploadedFileName, setUploadedFileName] = useState('');\r\n  const [wordCount, setWordCount] = useState(0);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [combined, setCombined] = useState('')\r\n\r\n  const handleNameChange = (e) => {\r\n    const inputName = e.target.value;\r\n    setName(inputName);\r\n  };\r\n\r\n  const handleTextChange = (e) => {\r\n    const inputText = e.target.value;\r\n    setText(inputText);\r\n    const words = inputText.split(/\\s+/).filter((word) => word !== '');\r\n    setWordCount(words.length);\r\n  };\r\n\r\n  const handleFileUpload = (e) => {\r\n    const files = e.target.files;\r\n    if (files && files.length > 0) {\r\n      const file = files[0];\r\n      if (file.type === 'text/plain') {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n          const fileText = event.target.result;\r\n          setText(fileText);\r\n          const words = fileText.split(/\\s+/).filter((word) => word !== '');\r\n          setWordCount(words.length);\r\n          setErrorMessage('');\r\n          setUploadedFileName(file.name); // Set the uploaded file name\r\n        };\r\n        reader.readAsText(file);\r\n      } else {\r\n        setErrorMessage('Please upload a .txt file.');\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const handleSubmit = () => {\r\n    // Check if either name or text is empty\r\n    if (!name || !text) {\r\n      setErrorMessage('Please fill in both name and text fields.');\r\n    } \r\n    else if (wordCount > 750) {\r\n      // Check if word count exceeds the limit\r\n      setErrorMessage('Word count exceeds the limit (750 words).');\r\n    } else {\r\n      // Create a new note object\r\n      const newNote = {\r\n        name: name,\r\n        text: text,\r\n        wordCount: wordCount,\r\n      };\r\n  \r\n      // Call the addNote function to add the new note to the array\r\n      addNote(newNote);\r\n      console.log(window.location.href.split('3000/')[1]);\r\n      postData(name, window.location.href.split('3000/')[1], text);\r\n  \r\n      // Clear the input fields and word count\r\n      setName('');\r\n      setText('');\r\n      setWordCount(0);\r\n      setErrorMessage('');\r\n  \r\n      // Close the modal\r\n      closeModal();\r\n    }\r\n  };  \r\n\r\n\r\n  const handleDownload = () => {\r\n    const blob = new Blob([text], { type: 'text/plain' });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = uploadedFileName || 'uploaded_text.txt';\r\n    a.click();\r\n    window.URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"close-button\" onClick={closeModal}>X</div>\r\n        <div className=\"name-input\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Your Name\"\r\n            value={name}\r\n            onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div className=\"file-upload\">\r\n          <label htmlFor=\"file-input\" className=\"upload-button\">\r\n            Upload File\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".txt\"\r\n            id=\"file-input\"\r\n            onChange={handleFileUpload}\r\n            className=\"file-input\"\r\n          />\r\n          {uploadedFileName && (\r\n            <span className=\"uploaded-file-name\">{uploadedFileName}</span>\r\n          )}\r\n        </div>\r\n        <textarea\r\n          rows=\"4\"\r\n          cols=\"50\"\r\n          placeholder=\"Enter text...\"\r\n          onChange={handleTextChange}\r\n          value={text}\r\n          className=\"text-input\"\r\n        />\r\n        <div className=\"word-count-and-button\">\r\n          <span className=\"word-count\">{wordCount}/750 words</span>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"submit-button\"\r\n            onClick={handleSubmit}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n        {text && (\r\n          <button\r\n            className=\"download-button\"\r\n            type=\"button\"\r\n            onClick={handleDownload}\r\n          >\r\n            Download File\r\n          </button>\r\n        )}\r\n        <div className=\"error-message\">{errorMessage}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoteModal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}